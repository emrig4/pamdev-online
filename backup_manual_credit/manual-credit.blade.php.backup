<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Manual Wallet Credit - Authoran</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
<style>
.sidebar {
min-height: 100vh;
background-color: #343a40;
}
.sidebar .nav-link {
color: #fff;
padding: 15px 20px;
border-bottom: 1px solid #495057;
}
.sidebar .nav-link:hover {
background-color: #495057;
}
.main-content {
padding: 30px;
}
.credit-form {
background: #f8f9fa;
padding: 30px;
border-radius: 10px;
border: 1px solid #dee2e6;
}
.user-table {
background: white;
border-radius: 10px;
overflow: hidden;
box-shadow: 0 0.125rem 0.25rem rgba(0, 0, 0, 0.075);
}
.ranc-balance {
font-weight: bold;
color: #28a745;
}
.btn-credit {
background: linear-gradient(45deg, #28a745, #20c997);
border: none;
color: white;
padding: 10px 30px;
border-radius: 25px;
font-weight: 600;
transition: all 0.3s ease;
}
.btn-credit:hover {
transform: translateY(-2px);
box-shadow: 0 4px 8px rgba(40, 167, 69, 0.3);
color: white;
}
.form-control {
border-radius: 8px;
border: 1px solid #ced4da;
padding: 12px 15px;
}
.form-control:focus {
border-color: #80bdff;
box-shadow: 0 0 0 0.2rem rgba(0, 123, 255, 0.25);
}
</style>
</head>
<body>
<div class="container-fluid">
<div class="row">
<!-- Sidebar -->
<div class="col-md-3 p-0">
<nav class="sidebar">
<div class="p-4">
<h4 class="text-white">Authoran Admin</h4>
<hr class="text-white">
</div>
<ul class="nav flex-column">
<li class="nav-item">
<a class="nav-link" href="/account">Dashboard</a>
</li>
<li class="nav-item">
<a class="nav-link" href="/account">Account Management</a>
</li>
<li class="nav-item">
<a class="nav-link active" href="/account/manual-credit">Manual Credit</a>
</li>
<li class="nav-item">
<a class="nav-link" href="/account/users">User Management</a>
</li>
<li class="nav-item">
<a class="nav-link" href="/account/transactions">Transactions</a>
</li>
</ul>
</nav>
</div>
<!-- Main Content -->
<div class="col-md-9">
<div class="main-content">
<div class="d-flex justify-content-between align-items-center mb-4">
<h1>Manual Wallet Credit System</h1>
<span class="badge bg-success">RANC Credits</span>
</div>
<!-- Success/Error Messages -->
@if(session('success'))
<div class="alert alert-success alert-dismissible fade show" role="alert">
<strong>Success!</strong> {{ session('success') }}
<button type="button" class="btn-close" data-bs-dismiss="alert"></button>
</div>
@endif
@if(session('error'))
<div class="alert alert-danger alert-dismissible fade show" role="alert">
<strong>Error!</strong> {{ session('error') }}
<button type="button" class="btn-close" data-bs-dismiss="alert"></button>
</div>
@endif
<div class="row">
<!-- Credit Form -->
<div class="col-md-6">
<div class="credit-form">
<h4 class="mb-4">Credit User Wallet</h4>
<form action="{{ route('manual-credit.process') }}" method="POST">
@csrf
<div class="mb-3">
<label for="email" class="form-label">User Email Address</label>
<input type="email" class="form-control" id="email" name="email" required>
</div>
<div class="mb-3">
<label for="amount" class="form-label">RANC Amount</label>
<input type="number" class="form-control" id="amount" name="amount" min="1" step="0.01" required>
</div>
<div class="mb-4">
<label for="reason" class="form-label">Reason for Credit</label>
<textarea class="form-control" id="reason" name="reason" rows="3" required></textarea>
</div>
<button type="submit" class="btn btn-credit w-100">
<i class="fas fa-coins"></i> Credit RANC Wallet
</button>
</form>
</div>
</div>
<!-- User List -->
<div class="col-md-6">
<h4 class="mb-4">Current User Balances</h4>
<div class="user-table">
<table class="table table-hover mb-0">
<thead class="table-dark">
<tr>
<th>User</th>
<th>Email</th>
<th>RANC Balance</th>
</tr>
</thead>
<tbody>
@foreach($users as $user)
<tr>
<td>{{ $user->display_name ?? 'Unknown User' }}</td>
<td>{{ $user->email }}</td>
<td class="ranc-balance">{{ number_format($user->ranc, 2) }} RANC</td>
</tr>
@endforeach
</tbody>
</table>
</div>
</div>
</div>
<!-- Quick Stats -->
<div class="row mt-4">
<div class="col-md-4">
<div class="card text-center">
<div class="card-body">
<h5 class="card-title">Total Users</h5>
<h3 class="text-primary">{{ $users->count() }}</h3>
</div>
</div>
</div>
<div class="col-md-4">
<div class="card text-center">
<div class="card-body">
<h5 class="card-title">Total RANC</h5>
<h3 class="text-success">{{ number_format($users->sum('ranc'), 2) }}</h3>
</div>
</div>
</div>
<div class="col-md-4">
<div class="card text-center">
<div class="card-body">
<h5 class="card-title">Active Credits</h5>
<h3 class="text-warning">{{ $users->where('ranc', '>', 0)->count() }}</h3>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
<script>
// Auto-fill email from user table
document.querySelectorAll('.user-table tbody tr').forEach(row => {
row.addEventListener('click', function() {
const email = this.cells[1].textContent.trim();
document.getElementById('email').value = email;
document.getElementById('email').focus();
});
});
// Validate form submission
document.querySelector('form').addEventListener('submit', function(e) {
const email = document.getElementById('email').value;
const amount = document.getElementById('amount').value;
const reason = document.getElementById('reason').value;
if (!email || !amount || !reason) {
e.preventDefault();
alert('Please fill in all fields');
return;
}
if (amount <= 0) {
e.preventDefault();
alert('Amount must be greater than 0');
return;
}
});
</script>
</body>
</html>